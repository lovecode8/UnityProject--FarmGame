 
一、游戏概述
《田园密语3D》是一款基于Unity3D引擎开发的沉浸式农场经营模拟游戏，为玩家打造了一个充满生机与温情的田园世界。在这里，您将化身农场主，体验播种、浇灌、收获的农耕乐趣，照料可爱的动物伙伴，经营自己的农场，完成源源不断的订单。游戏采用精美的3D卡通渲染风格，搭配真实的昼夜循环系统，让您感受昼夜变换的田园风光。无论是清晨聆听鸟鸣，午后树荫小憩，还是傍晚欣赏落日余晖，都能让您暂时忘却都市喧嚣，享受这份难得的宁静与治愈，随时随地开启您的田园梦想。
1.1游戏名称和运行环境
名称：《田园密语3D》
平台：PC端
硬件要求：装有Windows系统的电脑
1.2游戏故事情节
玩家继承祖父荒废的农场，从零开始经营，体验种植作物、养殖动物、完成订单、购买商品等交互体验，体验经营农场的乐趣，揭开农场背后的神秘传说核心目标：打造梦幻农场，发展光大。
1.3游戏特征
自由种植：玩家可以在游戏中的田地中自由种植作物，体验种植、浇水、收获、铲除的交互体验。
 
自由养殖：玩家可以在动物圈里饲养动物，体验购买动物、投放饲料、收获产品、宰杀动物的交互体验。
 
时间交互：游戏中设有时间这一变量，游戏的灯光会随着时间变化，与现实相符，充满真实感。（上面两张游戏截图分别拍摄于白天和夜晚）
1.4游戏定位
目标群体：休闲玩家、模拟经营游戏爱好者。
游戏时长：一天2小时左右。
1.5游戏风格
画面：3D卡通渲染（类似《动物森友会》），游戏画面会随着时间的流逝产生变化。
音效：轻快乡村音乐，动物叫声、工具音效真实化。
 
二、游戏机制
2.1游戏性设计
耕种节奏：播种→浇水→收获或铲除，顺序分明、交互性强。
养殖动物：购买动物→养殖→产出→宰杀。
购买商品：扣除金币→获得商品。
完成订单：获得订单→检查玩家库存→减少库存对应物品→获得奖励。
设置或加载存档：玩家在退出游戏之前可以通过设置存档密码来保存自己的游戏数据，以便在下次登录时加载存档。
2.2游戏玩法和规则
游戏开始时，玩家会获得1500金币，玩家可以选择购买种子和种植工具进行作物种植，也可以去到地图右侧的动物养殖圈，选择购买动物和投放饲料，开启动物的养殖之路，也可以打开商城界面购买商品，实现购买自由，玩腻了也可以保存游戏进度，下次再玩……随着时间的流逝，天会变暗、作物会成长、动物会长大、订单会到来……接下来怎么经营农场就交给玩家了。
交互功能	按键
角色移动	WASD
使用选中的物品	E
打开/关闭商城页面	B
时间加快5个小时	T
时间加快30分钟	P
与UI界面进行交互	鼠标左键
玩家操作按键表
 
2.3用户界面
左上角：存档按钮（按下可以打开数据管理界面）、玩家金币界面（展示玩家拥有的金币数量）。
 
右上角：时间界面，显示当前游戏的天数和时间。
 
正下方：玩家库存物品栏，展示玩家拥有的物品。
 
 
2.4玩家交互
作物交互：当玩家想要进行作物交互时，需要先在物品栏中选中想要进行交互的物品（如作物种子、水壶、镰刀、铲子等），然后靠近想要进行交互的土地并按下按键‘E’，如果满足使用条件即可实现与作物的交互。（以下分别是种植、浇水、收获、铲除的交互效果）
       
动物交互：当玩家想要与动物进行交互时，需要靠近动物圈的大门，这时便会弹出所属动物圈的交互界面，玩家可以在满足一定条件下选择购买动物、投放饲料、收获产品、宰杀动物。
 
商店交互：当玩家按下按键‘B’时，会弹出商店界面，界面右上角会显示玩家拥有的金币数量，界面左侧是商店出售的商品，右侧是玩家所选商品的详细信息。当玩家选择一个商品时，右侧便会展示该商品的详细信息，当玩家点击购买按钮且玩家金币数充足，玩家即可获得该商品。
 
订单交互：当游戏进行到特定天数时，会有订单车开往玩家的家门口，玩家靠近订单车会弹出订单界面，玩家可以查看该订单的需求物品、数量和订单奖励，当玩家按下交付订单按钮且库存商品充足，则可以获得订单奖励。
 
 
三、人工智能（AI）
3.1一般AI属性设定
游戏中的动物使用unity寻路系统，配合自己编写的FSM有限状态机，实现动物在静止和行走的状态中自由切换。当动物处于静止状态时，计时器会开始计时，直到达到指定时间，动物会切换至行走状态；当动物处于行走状态时，会自动寻路，当动物到达指定地点或计时器达到指定时间，动物就会切换至静止状态。（以下分别是鸡和牛的导航状态）
   
以下是动物控制器的脚本截图，第一张图片是根据动物所处的状态调用相应的函数，第二张图片展示的是动物静止和行走的逻辑。

 
四、游戏元素
4.1角色
4.1.1角色介绍
小王子：游戏的主要角色，负责管理农场，实现交互效果。他会根据玩家所选的工具切换手部握住的物品。
4.1.2角色行走逻辑
角色的行走通过WASD和Shift按键实现，按住Shift键可以降低玩家的移动速度。以下展示玩家的移动脚本。
4.1.3角色交互逻辑
角色的交互主要通过展示玩家所选的物品和交互特效实现。当玩家选择物品栏的工具时，角色的手部会出现玩家所选物品，当玩家按下按键‘E’时，便可完成交互。例如，在Cursor脚本检测到玩家输入时，会根据玩家的所选物品调用玩家交互执行函数，如果是种植相关逻辑，就会触发田地管理器（GridManager）的相应函数，完成交互。
 
4.2物品
游戏中的作物、动物、物品、订单等信息使用ScriptableObject存储，便于编辑、安全性高。
4.2.1作物

Id	作物	生长周期	种子售价
1001	小麦	2天	50
1002	玉米	3天	50
1003	胡萝卜	6天	100
1004	番茄	4天	150
1005	西瓜	5天	200
1006	南瓜	5天	250
1007	萝卜	5天	200
作物数据表
4.2.2动物
     
   
动物数据类（AnimalDetails.cs）
 
Id	动物	产出	产出周期	照料需求	宰杀产物	可宰杀时间
4001	鸡	鸡蛋	2	充足饲料	鸡肉	3
4002	奶牛	牛奶	3	充足饲料	牛肉	4
4003	羊	羊毛	3	充足饲料	羊肉	5
动物数据表
 
4.2.3物品
4.3对象
 
游戏中的主要对象是定期出现的订单车（顾客），当到达指定时间，会有订单车开往玩家的家门口，这时玩家可以靠近订单车查看订单信息，然后种植作物或养殖动物满足订单的要求，获得奖励。
 
五、游戏的故事背景
《田园密语3D》游戏模仿了一位小王子意外继承祖父位于星露谷的荒废农场的故事情节。玩家将在这片被时光遗忘的土地上，从零开始重建农场，体验播种、浇灌到收获的完整农耕循环，照料可爱的动物伙伴，并通过完成订单逐步扩大经营规模。玩家一开始拥有1500金币，需要靠仅有的金币扩大农场、发扬光大。游戏通过精美的3D卡通渲染和真实的昼夜交替系统，营造出一个既温馨又充满魔幻色彩的田园世界，让玩家在享受宁静农耕生活的同时，逐步揭开农场背后隐藏的真相，最终在丰收祭典上完成祖父未竟的使命，成为这片土地真正的守护者，发掘真正的“田园密语”。
 
六、游戏过程
6.1．故事情节描述
继承祖父的农场后，当玩家初到农场时，这里杂草丛生、设施破败、田地空虚、没有生机，亟待玩家的开垦和发掘。随着玩家逐步探索农场，种植作物、饲养动物、购买商品、完成订单，农场开始焕发生机。在经营过程中，玩家会陆续获得：
	丰收的喜悦：
	金黄的麦浪随风摇曳
	饱满的玉米压弯枝头
	鲜红的萝卜开出土地
	鲜活的牧场物产：
	刚挤出的牛奶还带着体温
	新鲜采集的鸡蛋透着温润光泽
	现宰的肉类保持着最佳鲜度
	持续的经济回报：源源不断的订单带来了稳定的金币收入，实现金币自由，在小小的游戏中体会富翁的快乐。
当农场发展到一定规模后，生机勃勃、万物复苏，田地充满了待收获的农作物、动物圈充满了新鲜的产品和肉、订单车发来源源不断的好拼，这时玩家便完成了祖父未竟的使命，成为这片土地真正的守护者。
 
6.2．关卡描述
游戏的关卡主要通过订单系统实现，订单车的要求提示着玩家下一步需要如何管理农场，带来更好的经济效益。例如：
	开发5块农田，购买种子，种植作物。学习作物的种植、浇水、收获和铲除，掌握基本的种植能力。
	开发一块牧场，购买动物并养殖，根据动物圈的用户界面种植和收获动物的饲料。学习动物的购买、养殖、收获产品、宰杀等操作，掌握动物的养殖能力。
	完成一个订单，根据订单车的信息购买种子、种植作物、养殖动物、收获作物、收获产品。掌握经营农场的经济命脉。
当玩家通过这些“关卡”的引导之后，便可以很好地掌握游戏的玩法，独立地在美丽的田园中创造自己的农场了。
 
七、技术应用分析
7.1图像技术应用
本游戏采用Unity引擎的URP（通用渲染管线）实现高品质画面表现。
	卡通渲染技术
	使用Shader实现3D开通风格的材质效果
	边缘描边技术增强卡通感
	动态光影系统
	实时全局光照
	基于物理的昼夜循环光照变化
	使用自定义脚本模拟太阳和月亮的移动
7.2网络技术应用
随着项目的开展，今后《田园密语3D》将加入多人游戏的功能，开放社交、交友、偷菜、农场代管理等功能。以下是应用到的技术：
	数据同步架构：实现高性能游戏
	采用高级服务器架构防止作弊
	状态同步与帧同步混合使用
	差分压缩减少网络流量
	云存档系统：合理管理玩家的存档数据
	AES-256加密保护玩家数据
	增量备份机制节省存储空间
	多设备同步支持（PC/移动端）
	社交功能实现：实现多人游戏
	Photon引擎实现实时多人互动
	WebSocket长连接维持在线状态
	RESTful API处理好友系统
	反作弊机制：防止玩家破坏游戏平衡
	关键数据服务器校验
	行为模式分析检测异常
	客户端完整性校验
7.3其他技术特点
7.3.1使用多种插件
Dotween：实现游戏UI的动态效果，提升游戏交互体验。例如提示面板的弹出和弹回。
CinemaChine：实现摄像机跟随玩家移动效果。
AI Navigation：实现动物的自动寻路效果，增强游戏体验。例如动物的自动寻路逻辑。
NewtonSoft Json：实现玩家数据的序列化和反序列化，保障玩家数据的安全。应用在玩家数据的存储和加载。
TextMeshPro：增强游戏中文字UI的美观性，提升游戏体验。例如商店中商品信息的展示。
7.3.2代码架构清晰
使用MVC设计模式，实现数据（Model）、视觉（View）、控制（Contorl）分离，各司其职，代码简洁高效。（以下分别是动物管理系统、订单管理系统的脚本文件目录和UI界面管理文件夹）
数据常量和枚举类分别单独放在一个脚本，方便查看和编辑。
使用单例模式，保证全局一个实例的同时方便其他类调用单例类的方法。
使用观察者模式，实现事件管理器中心EventHolder，通过事件“订阅”和“呼叫”实现事件处理逻辑。
